<?xml version="1.0" encoding="utf-8" ?>
<Patch>
    <Operation Class="SuperHeroGenesBase.PatchOperationSetting">
        <setting>expensiveBase</setting>
        <active Class="PatchOperationSequence">
            <operations>
                <li Class="PatchOperationAdd">
                    <xpath>Defs</xpath>
                    <value>
                        <GeneDef ParentName="SHG_ArchetypeBase">
                            <defName>SHG_DormantSuper</defName>
                            <label>dormant super</label>
                            <description>At some point in this super's lineage, the superhero gene was introduced but never activated. While this pawn will likely never become a true super, one of their children may suddenly become far greater than their ancestors.\n\nAssuming no mods alter inheritence, there is a 50% for a given gene to be inherited if one parent has it, and a 100% chance of inheriting the gene if both do. There are some issues with vanilla's inheritence system, which are described more in the mod description. Assuming the gene inheritence system doesn't mess up, these are the chances of a child being a true super.\n\nBoth have Super: 50% Super 50% Dormant\nOnly one Super: 25% Super 25% Dormant 25% Both Lost 25% Complete Disappointment</description>
                            <iconPath>Archetypes/Gene_DormantSuper</iconPath>
                            <prerequisite>SuperHeroBase</prerequisite>
                            <biostatMet>8</biostatMet>
                            <statFactors>
                                <LifespanFactor>0.333</LifespanFactor>
                                <ImmunityGainSpeed>0.333</ImmunityGainSpeed>
                                <IncomingDamageFactor>1.333</IncomingDamageFactor>
                                <InjuryHealingFactor>0.333</InjuryHealingFactor>
                                <MeleeDamageFactor>0.333</MeleeDamageFactor>
                                <PawnTrapSpringChance>100</PawnTrapSpringChance>
                                <StaggerDurationFactor>1.333</StaggerDurationFactor>
                                <GlobalLearningFactor>0.5</GlobalLearningFactor>
                                <LearningRateFactor>0.5</LearningRateFactor>
                                <ResearchSpeed>0.5</ResearchSpeed>
                                <WorkSpeedGlobal>0.5</WorkSpeedGlobal>
                            </statFactors>
                            <statOffsets>
                                <ComfyTemperatureMin>20</ComfyTemperatureMin>
                                <ComfyTemperatureMax>-20</ComfyTemperatureMax>
                                <AimingDelayFactor>.1</AimingDelayFactor>
                                <ShootingAccuracyPawn>-3</ShootingAccuracyPawn>
                                <CarryingCapacity>-100</CarryingCapacity>
                                <MoveSpeed>-5</MoveSpeed>
                                <MeleeDodgeChance>-3</MeleeDodgeChance>
                                <MeleeHitChance>-3</MeleeHitChance>
                                <MentalBreakThreshold>.15</MentalBreakThreshold>
                                <PainShockThreshold>-0.50</PainShockThreshold>
                                <PawnBeauty>-5.0</PawnBeauty>
                                <SocialImpact>-.5</SocialImpact>
                                <NegotiationAbility>-.5</NegotiationAbility>
                                <ConversionPower MayRequire="ludeon.rimworld.ideology">-.5</ConversionPower>
                                <ToxicEnvironmentResistance>-.1</ToxicEnvironmentResistance>
                                <ToxicResistance>-.1</ToxicResistance>
                                <TameAnimalChance>-.1</TameAnimalChance>
                                <TrainAnimalChance>-.1</TrainAnimalChance>
                                <ArmorRating_Blunt>-.1</ArmorRating_Blunt>
                                <ArmorRating_Sharp>-.1</ArmorRating_Sharp>
                                <ArmorRating_Heat>-.1</ArmorRating_Heat>
                            </statOffsets>
                        </GeneDef>
                    </value>
                </li>
                <li Class="PatchOperationReplace">
                    <xpath>Defs/GeneDef[defName="SuperHeroBase"]/biostatMet</xpath>
                    <value><biostatMet>-8</biostatMet></value>
                </li>
                <li Class="PatchOperationFindMod">
                    <mods><li>Combat Extended</li></mods>
                    <match Class="PatchOperationSequence">
                        <operations>
                            <li Class="PatchOperationReplace">
                                <xpath>Defs/GeneDef[defName="SHG_DormantSuper"]/statOffsets/ArmorRating_Blunt</xpath>
                                <value>
                                    <ArmorRating_Blunt>-10</ArmorRating_Blunt>
                                </value>
                            </li>
                            <li Class="PatchOperationReplace">
                                <xpath>Defs/GeneDef[defName="SHG_DormantSuper"]/statOffsets/ArmorRating_Sharp</xpath>
                                <value>
                                    <ArmorRating_Sharp>-10</ArmorRating_Sharp>
                                </value>
                            </li>
                            <li Class="PatchOperationReplace">
                                <xpath>Defs/GeneDef[defName="SHG_DormantSuper"]/statOffsets/MeleeDodgeChance</xpath>
                                <value>
                                    <MeleeDodgeChance>-0.1</MeleeDodgeChance>
                                </value>
                            </li>
                            <li Class="PatchOperationReplace">
                                <xpath>Defs/GeneDef[defName="SHG_DormantSuper"]/statOffsets/MeleeHitChance</xpath>
                                <value>
                                    <MeleeHitChance>-0.2</MeleeHitChance>
                                    <MeleeParryChance>-0.2</MeleeParryChance>
                                </value>
                            </li>
                            <li Class="PatchOperationReplace">
                                <xpath>Defs/GeneDef[defName="SHG_DormantSuper"]/statOffsets/AimingDelayFactor</xpath>
                                <value>
                                    <AimingDelayFactor>0.05</AimingDelayFactor>
                                </value>
                            </li>
                            <li Class="PatchOperationReplace">
                                <xpath>Defs/GeneDef[defName="SHG_DormantSuper"]/statOffsets/ShootingAccuracyPawn</xpath>
                                <value>
                                    <ShootingAccuracyPawn>-1</ShootingAccuracyPawn>
                                    <AimingAccuracy>-0.7</AimingAccuracy>
                                </value>
                            </li>
                            <li Class="PatchOperationReplace">
                                <xpath>Defs/GeneDef[defName="SHG_DormantSuper"]/statFactors/IncomingDamageFactor</xpath>
                                <value>
                                    <IncomingDamageFactor>1.11</IncomingDamageFactor>
                                </value>
                            </li>
                            <li Class="PatchOperationReplace">
                                <xpath>Defs/GeneDef[defName="SHG_DormantSuper"]/statFactors/PawnTrapSpringChance</xpath>
                                <value>
                                    <PawnTrapSpringChance>10</PawnTrapSpringChance>
                                </value>
                            </li>
                            <li Class="PatchOperationReplace">
                                <xpath>Defs/GeneDef[defName="SHG_DormantSuper"]/statFactors/StaggerDurationFactor</xpath>
                                <value>
                                    <StaggerDurationFactor>1.11</StaggerDurationFactor>
                                </value>
                            </li>
                            <li Class="PatchOperationAdd">
                                <xpath>Defs/GeneDef[defName="SHG_DormantSuper"]/statOffsets</xpath>
                                <value>
                                    <CarryBulk>-50</CarryBulk>
                                </value>
                            </li>
                        </operations>
                    </match>
                </li>
            </operations>
        </active>
    </Operation>
</Patch>