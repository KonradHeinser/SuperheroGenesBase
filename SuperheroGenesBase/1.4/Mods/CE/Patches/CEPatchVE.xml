<?xml version="1.0" encoding="utf-8" ?>
<Patch>
    <Operation Class="PatchOperationFindMod">
        <mods><li>Vanilla Expanded Framework</li></mods>
        <match Class="PatchOperationSequence">
            <operations>
                <li Class="PatchOperationReplace">
                    <xpath>Defs/HediffDef[defName="SHG_Pools_WindStep"]/stages/li</xpath>
                    <value>
                        <li>
                            <statFactors>
                                <StaggerDurationFactor>1.11</StaggerDurationFactor>
                            </statFactors>
                            <statOffsets>
                                <MoveSpeed>-5</MoveSpeed>
                                <AimingDelayFactor>.05</AimingDelayFactor>
                            </statOffsets>
                            <capMods>
                                <li>
                                    <capacity>Moving</capacity>
                                    <postFactor>0.95</postFactor>
                                </li>
                            </capMods>
                        </li>
                    </value>
                </li>
                <li Class="PatchOperationReplace">
                    <xpath>Defs/HediffDef[defName="SHG_Hemomancer_BloodClaws"]/comps/li[@Class="HediffCompProperties_VerbGiver"]/tools</xpath>
                    <value>
                        <tools>
                            <li Class="CombatExtended.ToolCE">
                                <label>claw</label>
                                <capacities>
                                    <li>Scratch</li>
                                </capacities>
                                <power>21</power>
                                <cooldownTime>89</cooldownTime>
                                <armorPenetrationSharp>8</armorPenetrationSharp>
                                <armorPenetrationBlunt>4</armorPenetrationBlunt>
                                <linkedBodyPartsGroup>Blade</linkedBodyPartsGroup>
                                <soundMeleeHit>Pawn_Melee_PowerClaw_Hit</soundMeleeHit>
                                <soundMeleeMiss>Pawn_Melee_PowerClaw_Miss</soundMeleeMiss>
                            </li>
                        </tools>
                    </value>
                </li>

                <li Class="PatchOperationReplace">
                    <xpath>Defs/HediffDef[defName="SHG_Hemomancer_BloodArmor"]/stages</xpath>
                    <value>
                        <stages>
                            <li>
                                <minSeverity>0.001</minSeverity>
                                <label>tier 1</label>
                                <statOffsets>
                                    <ArmorRating_Blunt>5</ArmorRating_Blunt>
                                    <ArmorRating_Sharp>5</ArmorRating_Sharp>
                                </statOffsets>
                                <statOffsetEffectMultiplier>SHG_HemomancyProficiency</statOffsetEffectMultiplier>
                            </li>
                            <li>
                                <minSeverity>0.501</minSeverity>
                                <label>tier 2</label>
                                <statOffsets>
                                    <ArmorRating_Blunt>10</ArmorRating_Blunt>
                                    <ArmorRating_Sharp>10</ArmorRating_Sharp>
                                </statOffsets>
                                <statOffsetEffectMultiplier>SHG_HemomancyProficiency</statOffsetEffectMultiplier>
                            </li>
                            <li>
                                <minSeverity>1.001</minSeverity>
                                <label>tier 3</label>
                                <statOffsets>
                                    <ArmorRating_Blunt>15</ArmorRating_Blunt>
                                    <ArmorRating_Sharp>15</ArmorRating_Sharp>
                                </statOffsets>
                                <statOffsetEffectMultiplier>SHG_HemomancyProficiency</statOffsetEffectMultiplier>
                            </li>
                            <li>
                                <minSeverity>1.501</minSeverity>
                                <label>tier 4</label>
                                <statOffsets>
                                    <ArmorRating_Blunt>20</ArmorRating_Blunt>
                                    <ArmorRating_Sharp>20</ArmorRating_Sharp>
                                </statOffsets>
                                <statOffsetEffectMultiplier>SHG_HemomancyProficiency</statOffsetEffectMultiplier>
                            </li>
                            <li>
                                <minSeverity>2.001</minSeverity>
                                <label>tier 5</label>
                                <statOffsets>
                                    <ArmorRating_Blunt>25</ArmorRating_Blunt>
                                    <ArmorRating_Sharp>25</ArmorRating_Sharp>
                                </statOffsets>
                                <statOffsetEffectMultiplier>SHG_HemomancyProficiency</statOffsetEffectMultiplier>
                            </li>
                            <li>
                                <minSeverity>2.501</minSeverity>
                                <label>max tier</label>
                                <statOffsets>
                                    <ArmorRating_Blunt>30</ArmorRating_Blunt>
                                    <ArmorRating_Sharp>30</ArmorRating_Sharp>
                                </statOffsets>
                                <statOffsetEffectMultiplier>SHG_HemomancyProficiency</statOffsetEffectMultiplier>
                            </li>
                        </stages>
                    </value>
                </li>

                <li Class="PatchOperationReplace">
                    <xpath>Defs/ThingDef[defName="SHG_Hemomancer_BloodSpear"]/projectile</xpath>
                    <value>
                        <projectile Class="CombatExtended.ProjectilePropertiesCE">
                            <damageDef>RangedStab</damageDef>
                            <speed>50</speed>
                            <damageAmountBase>45</damageAmountBase>
                            <armorPenetrationSharp>1</armorPenetrationSharp>
                            <armorPenetrationBlunt>2</armorPenetrationBlunt>
                        </projectile>
                    </value>
                </li>
            </operations>
        </match>
    </Operation>
</Patch>
